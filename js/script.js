!function(){const t=document.querySelector("canvas");t.height=innerHeight,t.width=innerWidth;const e=t.getContext("2d");let i=0;if(!e)return;function h(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}let l=[],s=[];class n{constructor(t,i){this.x=t,this.y=i,e.beginPath(),e.fillStyle="yellow",e.arc(t,i,20,0,2*Math.PI),e.fill(),e.closePath(),l.push(this)}draw(){e.beginPath(),e.fillStyle="yellow",e.arc(this.x,this.y,20,0,2*Math.PI),e.fill(),e.closePath()}}new n(t.width/2,t.height/2);let c={};t.addEventListener("mousedown",t=>{let e=(new Date).getTime();c={time:e,x:t.clientX,y:t.clientY}}),t.addEventListener("mouseup",n=>{let r=Number((new Date).getTime())-Number(c.time);const o=(n.clientX-c.x)/(r/1e3),a=(n.clientY-c.y)/(r/1e3);new class{constructor(t,i,h,l,n){this.x=t,this.y=i,this.vx=h,this.vy=l,this.style=n,e.beginPath(),e.fillStyle=n||"blue",e.arc(t,i,20,0,2*Math.PI),e.fill(),e.closePath(),s.push(this),this.collided=!1}draw(){e.beginPath(),e.fillStyle=this.style||"blue",l.forEach(e=>{let l=h(e,this),n=(e.x-this.x)/l*2e5/(l*l),c=(e.y-this.y)/l*2e5/(l*l);if(this.x=this.x+this.vx/60,this.y=this.y+this.vy/60,this.vx=this.vx+n,this.vy=this.vy+c,h(this,e)<=40||1==this.collided||this.x<-40||this.x>40+t.width||this.y>t.height+40||this.y<-40)return i-=200,s=s.filter(t=>t!=this),void(this.collided=!0)});let n=0;if(s.forEach(t=>{t!=this&&h(this,t)<=40&&(t.collided=!0,this.collided=!0,n++)}),n>0)return s=s.filter(t=>t!=this),void(i-=50*n);e.arc(this.x,this.y,20,0,2*Math.PI),e.fill(),e.closePath()}}(c.x,c.y,o,a)}),t.addEventListener("contextmenu",t=>{t.preventDefault(),new n(t.clientX,t.clientY)});window.requestAnimationFrame(function h(){e.fillStyle="black",e.fillRect(0,0,t.width,t.height),i+=s.length*l.length*5,e.fillStyle="white",e.font="48px Comic Sans",e.fillText(`Your Score: ${i}`,50,50),l.forEach(t=>t.draw()),s.forEach(t=>{t.draw()}),window.requestAnimationFrame(h)})}();